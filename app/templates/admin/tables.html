{% extends 'base.html' %}


{% block links %}

	<link rel="stylesheet" href="{{ url_for( 'static', filename = 'css/min/admin.min.css' ) }}">
	<link rel="stylesheet" href="{{ url_for( 'static', filename = 'css/min/admin-dark.min.css' ) }}">

{% endblock %}


{% block content %}

	<section class="global__section admin__section-main">
		<h2 class="global__main-header">{{ _("Table of users") }}</h2>

		<table class="table table-md table-full table-hover {% if g.theme == 'dark' %} table-dark {% endif %}">
			<thead>
				<tr>
					<th>{{ _("id") }}</th>
					<th>{{ _("name") }}</th>
					<th>{{ _("lastname") }}</th>
					<th>{{ _("group") }}</th>
					<th>{{ _("role") }}</th>
					<th>{{ _("registated") }}</th>
					<th>{{ _("updated") }}</th>
				</tr>
			</thead>

			<tbody>
				{% for user in users %}

					<tr>
						<td>{{ user.id }}</td>
						<td>{{ user.name }}</td>
						<td>{{ user.lastname }}</td>
						<td>{{ user.group }}</td>
						<td>
							{% if user.role == 'S' %}
								{{ _("student") }}
							{% elif user.role == 'A' %}
								{{ _("admin") }}
							{% endif %}
						</td>
						<td>{{ user.datetime_reg }}</td>
						<td>{{ user.datetime_upd }}</td>
					</tr>

				{% endfor %}
			</tbody>
		</table>

		<h2 class="global__main-header">{{ _("Table of groups") }}</h2>

		<table class="table table-md table-full table-hover {% if g.theme == 'dark' %} table-dark {% endif %}">
			<thead>
				<tr>
					<th>{{ _("id") }}</th>
					<th>{{ _("title") }}</th>
					<th>{{ _("tests") }}</th>
					<th>{{ _("datetime_add") }}</th>
					<th>{{ _("datetime_upd") }}</th>
				</tr>
			</thead>

			<tbody>
				{% for group in groups %}

					<tr>
						<td>{{ group.id }}</td>
						<td>
							<a href="{{ url_for( 'update_group', id = group.id ) }}">{{ group.title }}</a>
						</td>
						<td>{{ group.tests.count() }}</td>
						<td>{{ group.datetime_add }}</td>
						<td>{{ group.datetime_upd }}</td>
					</tr>

				{% endfor %}
			</tbody>
		</table>

		<h2 class="global__main-header">{{ _("Table of tests") }}</h2>

		<table class="table table-md table-full table-hover {% if g.theme == 'dark' %} table-dark {% endif %}">
			<thead>
				<tr>
					<th>{{ _("id") }}</th>
					<th>{{ _("group") }}</th>
					<th>{{ _("name") }}</th>
					<th>{{ _("difficult") }}</th>
					<th>{{ _("quests") }}</th>
					<th>{{ _("results") }}</th>
					<th>{{ _("datetime_add") }}</th>
					<th>{{ _("datetime_upd") }}</th>
				</tr>
			</thead>

			<tbody>
				{% for test in tests %}

					<tr>
						<td>{{ test.id }}</td>
						<td>{{ test.id_group }}</td>
						<td>
							<a href="{{ url_for( 'update_test', id = test.id ) }}">{{ test.name }}</a>
						</td>
						<td>{{ test.difficult }} / 5</td>
						<td>{{ test.questions.count() }}</td>
						<td>{{ test.results.count() }}</td>
						<td>{{ test.datetime_add }}</td>
						<td>{{ test.datetime_upd }}</td>
					</tr>

				{% endfor %}
			</tbody>
		</table>
	</section>

{% endblock %}
